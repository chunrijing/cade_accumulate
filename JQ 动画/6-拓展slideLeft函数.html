<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <style media="screen">
            * {
                margin: 0;
                padding: 0;
            }

            .div1 {
                width: 200px;
                height: 200px;
                background-color: tan;
            }
            .div2 {
                width: 300px;
                height: 300px;
                background-color: #333;
            }
        </style>
    </head>
    <body>

        <div class="div1"></div>

        <div class="div2">
            div2
        </div>

    </body>
    <script src="jquery-2.2.3.js" charset="utf-8"></script>
    <script type="text/javascript">

        $(function () {

            // 给 JQ元素 添加slideLeft函数
            $.fn.extend({
                slideLeft: function (t, cb) {

                    // 处理可选参数
                    var time = t || 300;

                    // 获取最开始的宽度
                    var width = this.width();
                    var that = this;
                    this.css({
                        overflow: 'hidden'
                    });

                    // 每隔多少毫秒执行一次定时器
                    var ms = 5 * time / width;

                    // 开启定时器，实现动画效果
                    var timer = setInterval(function () {

                        // 获取当前宽度
                        var currentWidth = that.width();
                        // 每次减少1像素
                        currentWidth -= 5;
                        // 如果宽度已经减到0，则停止定时器，并回调
                        if (currentWidth == 0) {
                            clearInterval(timer);
                            // 先判断，是否存在，如果存在，才调用
                            if (cb) { cb(); }
                        }
                        that.width(currentWidth);
                    }, ms);
                }
            });


            /*
            Object.prototype.slideLeft = function slideLeft(t, cb) {
                // 处理可选参数
                var time = t || 300;

                // 获取最开始的宽度
                var width = this.width();
                var that = this;

                // 每隔多少毫秒执行一次定时器
                var ms = 5 * time / width;

                // 开启定时器，实现动画效果
                var timer = setInterval(function () {

                    // 获取当前宽度
                    var currentWidth = that.width();
                    // 每次减少1像素
                    currentWidth -= 5;
                    // 如果宽度已经减到0，则停止定时器，并回调
                    if (currentWidth == 0) {
                        clearInterval(timer);
                        // 先判断，是否存在，如果存在，才调用
                        if (cb) { cb(); }
                    }
                    that.width(currentWidth);
                }, ms);
            };
            */

            $(document).click(function () {
                // $('.div1').slideLeft();
                // $('.div2').slideLeft();
            });






        });

    </script>
</html>
